<%= render CardComponent.new(dom_id: dom_id(product), classes: "flex flex-col justify-between max-w-prose") do %>
  <header>
    <h3 class="py-2"><%= name %></h3>
    <%- if product.archived? %>
      <span class="italic">(archived)</span>
    <%- end %>
  </header>
  <div class="grow flex flex-col justify-between">
    <% if product.photo.present? %>
      <div>
        <%= image_tag product.photo.variant(resize_to_limit: [150, 150]) %>
      </div>
    <% end %>
    <div class="text-sm italic">
      <%= description %>
    </div>
    <div class="text-right mt-3">
      <div class="text-xs italic">
        <%= tax_rates %>
      </div>
      <p><%= price %></p>
    </div>
  </div>
  <footer class="mt-3 flex justify-between">
    <%= render edit_button if edit_button? %>
    <%= render archive_button if archive_button?  %>
    <%= render destroy_button if destroy_button? %>
  </footer>
<%- end %>
