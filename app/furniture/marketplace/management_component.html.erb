<div class="flex flex-wrap items-baseline">
  <h2 class="ml-2 mt-1">
    <%= t('marketplace.marketplace.manage_header') %>
  </h2>
  <p class="ml-2 mt-1 truncate text-sm text-gray-500">
    <%= marketplace.room.name %>
  </p>
</div>
<%= render CardComponent.new(classes: "flex mt-3 px-0") do %>
  <div class="flex md:w-1/5 flex-col">
    <nav class="flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 p-2 md:p-5">
      <ul role="list" class="list-none pl-0">

        <%- if policy(marketplace).edit? %>
          <%= render Marketplace::ManagementMenuItemComponent.new(location: marketplace.location(:edit)) do |menu_item| %>
            <% menu_item.with_icon(variant: ::Icons::GearComponent) %>
            <% menu_item.with_title(t('marketplace.marketplace.configuration_menu')) %>
          <% end %>
        <% end %>

        <%- if policy(marketplace).edit? %>
          <%= render Marketplace::ManagementMenuItemComponent.new(
            location: marketplace.location(child: :products)) do |menu_item| %>
            <% menu_item.with_icon do %>
              <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
            <% end%>
            <% menu_item.with_title(t('marketplace.products.index.link_to')) %>
          <% end %>
        <% end %>

        <%- if policy(marketplace.delivery_areas.new).create? %>
          <%= render Marketplace::ManagementMenuItemComponent.new(
              location: marketplace.location(child: :delivery_areas)) do |menu_item| %>
            <% menu_item.with_icon do %>
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z" />
            <% end%>
            <% menu_item.with_title(t('marketplace.delivery_areas.index.link_to')) %>
          <% end %>
        <% end %>

        <%- if policy(marketplace.tax_rates.new).create? %>
          <%= render Marketplace::ManagementMenuItemComponent.new(
              location: marketplace.location(child: :tax_rates)) do |menu_item| %>
            <% menu_item.with_icon do %>
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
            <% end%>
            <% menu_item.with_title(t('marketplace.tax_rates.index.link_to')) %>
          <% end %>
        <% end %>

        <%- if policy(marketplace.orders).index? %>
          <%= render Marketplace::ManagementMenuItemComponent.new(
              location: marketplace.location(child: :orders)) do |menu_item| %>
            <% menu_item.with_icon do %>
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
            <% end%>
            <% menu_item.with_title(t('marketplace.order.index')) %>
          <%- end %>
        <%- end %>
      </ul>
    </nav>
  </div>
  <div class="flex flex-col grow px-5">
    <%= content %>
  </div>
<% end %>
