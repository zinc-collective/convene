<section class="max-w-3xl mx-auto">
  <%- new_entry = journal.entries.new %>
  <%- if policy(new_entry).new? %>
    <div class="text-center p-2">
      <%= link_to "New Journal Entry", journal.location(:new, child: :entry) %>
    </div>
  <%- end %>

  <div class="flex flex-wrap">
    <%- @pagy, @entries = pagy(policy_scope(journal.entries.recent)) %>

    <%= render Journal::EntryComponent.with_collection(@entries) %>
  </div>

  <%== pagy_nav(@pagy, nav_extra: 'flex justify-between') %>

  <%- if policy(new_entry).new? %>
    <footer class="text-center p-2">
      <%= link_to "New Journal Entry", journal.location(:new, child: :entry) %>
    </footer>
  <%- end %>
</section>
